class_name FloatingIndicator
extends Node3D

var mesh_instance: MeshInstance3D

func _ready():
	# Create mesh
	mesh_instance = MeshInstance3D.new()
	add_child(mesh_instance)
	
	# Create torus mesh
	var ring = TorusMesh.new()
	ring.inner_radius = 0.1
	ring.outer_radius = 0.3
	mesh_instance.mesh = ring
	
	# Create material
	var material = StandardMaterial3D.new()
	material.albedo_color = Color(0.2, 0.8, 1.0, 0.7)
	material.emission_enabled = true
	material.emission = Color(0.4, 0.8, 1.0)
	material.emission_energy = 0.5
	material.transparency = BaseMaterial3D.TRANSPARENCY_ALPHA
	mesh_instance.material_override = material
	
	# Position above player
	position = Vector3(0, 1.8, 0)

func _process(delta):
	# Slowly rotate
	rotate_y(delta * 1.0)
	
	# Bob up and down
	var bob_offset = sin(Time.get_ticks_msec() / 500.0) * 0.05
	mesh_instance.position.y = bob_offset
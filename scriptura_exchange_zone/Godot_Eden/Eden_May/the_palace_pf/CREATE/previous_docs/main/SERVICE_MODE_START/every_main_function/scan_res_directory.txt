func scan_res_directory(directory: String = "res://", indent: int = 0) -> Dictionary:
	var dir = DirAccess.open(directory)
	var scan_results = {
		"files": [],
		"directories": [],
		"status": "pending"
	}

	if dir:
		scan_results["status"] = "completed"

		for subdir in dir.get_directories():
			print("  ".repeat(indent) + "📁 " + subdir)
			scan_results["directories"].append(subdir)
			scan_results[subdir] = scan_res_directory(directory.path_join(subdir), indent + 1)  # Recursive call

		for file in dir.get_files():
			print("  ".repeat(indent) + "📄 " + file)
			scan_results["files"].append(file)

	else:
		scan_results["status"] = "failed"

	scan_result = scan_results

	return scan_results